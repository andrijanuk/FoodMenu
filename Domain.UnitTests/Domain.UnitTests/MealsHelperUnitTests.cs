using Domain.Helpers.Utility;
using NUnit.Framework.Internal;

namespace Domain.UnitTests
{
    public class MealsHelperUnitTests
    {
        [SetUp]
        public void Setup()
        {
        }

        [Test]
        public void GetFiveMealsIdByCategory_HaveOnly5Meals()
        {
            //Arrange
            string json = @"{""meals"":[{""strMeal"":""Bean & Sausage Hotpot"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""idMeal"":""52848""},{""strMeal"":""Callaloo Jamaican Style"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""idMeal"":""52939""},{""strMeal"":""Chakchouka "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/gpz67p1560458984.jpg"",""idMeal"":""52969""},{""strMeal"":""Duck Confit"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""idMeal"":""52907""},{""strMeal"":""French Lentils With Garlic and Thyme"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""idMeal"":""52815""},{""strMeal"":""French Omelette"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/yvpuuy1511797244.jpg"",""idMeal"":""52915""},{""strMeal"":""Osso Buco alla Milanese"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wwuqvt1487345467.jpg"",""idMeal"":""52810""},{""strMeal"":""Pizza Express Margherita"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""idMeal"":""53014""},{""strMeal"":""Poutine"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/uuyrrx1487327597.jpg"",""idMeal"":""52804""},{""strMeal"":""Three-cheese souffles"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/sxwquu1511793428.jpg"",""idMeal"":""52912""},{""strMeal"":""Turkey Meatloaf"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ypuxtw1511297463.jpg"",""idMeal"":""52845""}]}";

            //Act
            var result = MealsHelper.GetFiveMealsIdByCategory(json, 5);

            //Assert
            Assert.AreEqual(result.Count(), 5);
        }
        [Test]
        public void GetFiveMealsIdByCategory_IsNotEmpty()
        {
            //Arrange
            string json = @"{""meals"":[{""strMeal"":""Bean & Sausage Hotpot"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""idMeal"":""52848""},{""strMeal"":""Callaloo Jamaican Style"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""idMeal"":""52939""},{""strMeal"":""Chakchouka "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/gpz67p1560458984.jpg"",""idMeal"":""52969""},{""strMeal"":""Duck Confit"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""idMeal"":""52907""},{""strMeal"":""French Lentils With Garlic and Thyme"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""idMeal"":""52815""},{""strMeal"":""French Omelette"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/yvpuuy1511797244.jpg"",""idMeal"":""52915""},{""strMeal"":""Osso Buco alla Milanese"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wwuqvt1487345467.jpg"",""idMeal"":""52810""},{""strMeal"":""Pizza Express Margherita"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""idMeal"":""53014""},{""strMeal"":""Poutine"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/uuyrrx1487327597.jpg"",""idMeal"":""52804""},{""strMeal"":""Three-cheese souffles"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/sxwquu1511793428.jpg"",""idMeal"":""52912""},{""strMeal"":""Turkey Meatloaf"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ypuxtw1511297463.jpg"",""idMeal"":""52845""}]}";

            //Act
            var result = MealsHelper.GetFiveMealsIdByCategory(json, 5);

            //Assert
            Assert.IsNotEmpty(result);
        }
        [Test]
        public void GetFiveMealsIdByCategory_IsEmpty()
        {
            //Arrange
            string json = @"{""meals"":[{""strMeal"":""Bean & Sausage Hotpot"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""idMeal"":""52848""},{""strMeal"":""Callaloo Jamaican Style"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""idMeal"":""52939""},{""strMeal"":""Chakchouka "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/gpz67p1560458984.jpg"",""idMeal"":""52969""},{""strMeal"":""Duck Confit"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""idMeal"":""52907""},{""strMeal"":""French Lentils With Garlic and Thyme"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""idMeal"":""52815""},{""strMeal"":""French Omelette"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/yvpuuy1511797244.jpg"",""idMeal"":""52915""},{""strMeal"":""Osso Buco alla Milanese"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wwuqvt1487345467.jpg"",""idMeal"":""52810""},{""strMeal"":""Pizza Express Margherita"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""idMeal"":""53014""},{""strMeal"":""Poutine"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/uuyrrx1487327597.jpg"",""idMeal"":""52804""},{""strMeal"":""Three-cheese souffles"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/sxwquu1511793428.jpg"",""idMeal"":""52912""},{""strMeal"":""Turkey Meatloaf"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ypuxtw1511297463.jpg"",""idMeal"":""52845""}]}";

            //Act
            var result = MealsHelper.GetFiveMealsIdByCategory(json, 0);

            //Assert
            Assert.IsEmpty(result);
        }

        [Test]
        public void GetThreeMealsIdByArea_HaveOnly3Meals()
        {
            //Arrange
            string json = @"{""meals"":[{""strMeal"":""Bean & Sausage Hotpot"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""idMeal"":""52848""},{""strMeal"":""Callaloo Jamaican Style"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""idMeal"":""52939""},{""strMeal"":""Chakchouka "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/gpz67p1560458984.jpg"",""idMeal"":""52969""},{""strMeal"":""Duck Confit"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""idMeal"":""52907""},{""strMeal"":""French Lentils With Garlic and Thyme"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""idMeal"":""52815""},{""strMeal"":""French Omelette"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/yvpuuy1511797244.jpg"",""idMeal"":""52915""},{""strMeal"":""Osso Buco alla Milanese"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wwuqvt1487345467.jpg"",""idMeal"":""52810""},{""strMeal"":""Pizza Express Margherita"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""idMeal"":""53014""},{""strMeal"":""Poutine"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/uuyrrx1487327597.jpg"",""idMeal"":""52804""},{""strMeal"":""Three-cheese souffles"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/sxwquu1511793428.jpg"",""idMeal"":""52912""},{""strMeal"":""Turkey Meatloaf"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ypuxtw1511297463.jpg"",""idMeal"":""52845""}]}";

            //Act
            var result = MealsHelper.GetThreeMealsIdByArea(json, 3);

            //Assert
            Assert.AreEqual(result.Count(), 3);
        }
        [Test]
        public void GetThreeMealsIdByArea_IsNotEmpty()
        {
            //Arrange
            string json = @"{""meals"":[{""strMeal"":""Bean & Sausage Hotpot"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""idMeal"":""52848""},{""strMeal"":""Callaloo Jamaican Style"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""idMeal"":""52939""},{""strMeal"":""Chakchouka "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/gpz67p1560458984.jpg"",""idMeal"":""52969""},{""strMeal"":""Duck Confit"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""idMeal"":""52907""},{""strMeal"":""French Lentils With Garlic and Thyme"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""idMeal"":""52815""},{""strMeal"":""French Omelette"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/yvpuuy1511797244.jpg"",""idMeal"":""52915""},{""strMeal"":""Osso Buco alla Milanese"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wwuqvt1487345467.jpg"",""idMeal"":""52810""},{""strMeal"":""Pizza Express Margherita"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""idMeal"":""53014""},{""strMeal"":""Poutine"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/uuyrrx1487327597.jpg"",""idMeal"":""52804""},{""strMeal"":""Three-cheese souffles"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/sxwquu1511793428.jpg"",""idMeal"":""52912""},{""strMeal"":""Turkey Meatloaf"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ypuxtw1511297463.jpg"",""idMeal"":""52845""}]}";

            //Act
            var result = MealsHelper.GetThreeMealsIdByArea(json, 3);

            //Assert
            Assert.IsNotEmpty(result);
        }
        [Test]
        public void GetThreeMealsIdByArea_IsEmpty()
        {
            //Arrange
            string json = @"{""meals"":[{""strMeal"":""Bean & Sausage Hotpot"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""idMeal"":""52848""},{""strMeal"":""Callaloo Jamaican Style"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""idMeal"":""52939""},{""strMeal"":""Chakchouka "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/gpz67p1560458984.jpg"",""idMeal"":""52969""},{""strMeal"":""Duck Confit"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""idMeal"":""52907""},{""strMeal"":""French Lentils With Garlic and Thyme"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""idMeal"":""52815""},{""strMeal"":""French Omelette"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/yvpuuy1511797244.jpg"",""idMeal"":""52915""},{""strMeal"":""Osso Buco alla Milanese"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wwuqvt1487345467.jpg"",""idMeal"":""52810""},{""strMeal"":""Pizza Express Margherita"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""idMeal"":""53014""},{""strMeal"":""Poutine"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/uuyrrx1487327597.jpg"",""idMeal"":""52804""},{""strMeal"":""Three-cheese souffles"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/sxwquu1511793428.jpg"",""idMeal"":""52912""},{""strMeal"":""Turkey Meatloaf"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ypuxtw1511297463.jpg"",""idMeal"":""52845""}]}";

            //Act
            var result = MealsHelper.GetThreeMealsIdByArea(json, 0);

            //Assert
            Assert.IsEmpty(result);
        }

        [Test]
        public void GetMealsFromJson_ElementsCorrectNumber()
        {
            //Arrange
            List<string> jsonList = new List<string>();
            jsonList.Add(@"{""meals"":[{""idMeal"":""53014"",""strMeal"":""Pizza Express Margherita"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""Italian"",""strInstructions"":""1 Preheat the oven to 230\u00b0C.\r\n\r\n2 Add the sugar and crumble the fresh yeast into warm water.\r\n\r\n3 Allow the mixture to stand for 10 \u2013 15 minutes in a warm place (we find a windowsill on a sunny day works best) until froth develops on the surface.\r\n\r\n4 Sift the flour and salt into a large mixing bowl, make a well in the middle and pour in the yeast mixture and olive oil.\r\n\r\n5 Lightly flour your hands, and slowly mix the ingredients together until they bind.\r\n\r\n6 Generously dust your surface with flour.\r\n\r\n7 Throw down the dough and begin kneading for 10 minutes until smooth, silky and soft.\r\n\r\n8 Place in a lightly oiled, non-stick baking tray (we use a round one, but any shape will do!)\r\n\r\n9 Spread the passata on top making sure you go to the edge.\r\n\r\n10 Evenly place the mozzarella (or other cheese) on top, season with the oregano and black pepper, then drizzle with a little olive oil.\r\n\r\n11 Cook in the oven for 10 \u2013 12 minutes until the cheese slightly colours.\r\n\r\n12 When ready, place the basil leaf on top and tuck in!"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=Mt5lgUZRoUg"",""strIngredient1"":""Water"",""strIngredient2"":""Sugar"",""strIngredient3"":""Yeast"",""strIngredient4"":""Plain Flour"",""strIngredient5"":""Salt"",""strIngredient6"":""Olive Oil"",""strIngredient7"":""Passata"",""strIngredient8"":""Mozzarella"",""strIngredient9"":""Oregano"",""strIngredient10"":""Basil"",""strIngredient11"":""Black Pepper"",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""150ml"",""strMeasure2"":""1 tsp "",""strMeasure3"":""15g"",""strMeasure4"":""225g"",""strMeasure5"":""1 1\/2 tsp "",""strMeasure6"":""Drizzle"",""strMeasure7"":""80g"",""strMeasure8"":""70g"",""strMeasure9"":""Peeled and Sliced"",""strMeasure10"":""Leaves"",""strMeasure11"":""Pinch"",""strMeasure12"":"" "",""strMeasure13"":"" "",""strMeasure14"":"" "",""strMeasure15"":"" "",""strMeasure16"":"" "",""strMeasure17"":"" "",""strMeasure18"":"" "",""strMeasure19"":"" "",""strMeasure20"":"" "",""strSource"":""https:\/\/www.dailymail.co.uk\/femail\/food\/article-8240361\/Pizza-Express-release-secret-recipe-Margherita-Pizza-make-home.html"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52848"",""strMeal"":""Bean & Sausage Hotpot"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""British"",""strInstructions"":""In a large casserole, fry the sausages until brown all over \u2013 about 10 mins.\r\n\r\nAdd the tomato sauce, stirring well, then stir in the beans, treacle or sugar and mustard. Bring to the simmer, cover and cook for 30 mins. Great served with crusty bread or rice."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=B0YX0yPX4Wo"",""strIngredient1"":""Sausages"",""strIngredient2"":""Tomato Sauce"",""strIngredient3"":""Butter Beans"",""strIngredient4"":""Black Treacle"",""strIngredient5"":""English Mustard"",""strIngredient6"":"""",""strIngredient7"":"""",""strIngredient8"":"""",""strIngredient9"":"""",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""8 large"",""strMeasure2"":""1 Jar"",""strMeasure3"":""1200g"",""strMeasure4"":""1 tbls"",""strMeasure5"":""1 tsp "",""strMeasure6"":"""",""strMeasure7"":"""",""strMeasure8"":"""",""strMeasure9"":"""",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.bbcgoodfood.com\/recipes\/339607\/bean-and-sausage-hotpot"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52939"",""strMeal"":""Callaloo Jamaican Style"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""Jamaican"",""strInstructions"":""Cut leaves and soft stems from the kale branches, them soak in a bowl of cold water for about 5-10 minutes or until finish with prep.\r\nProceed to slicing the onions, mincing the garlic and dicing the tomatoes. Set aside\r\nRemove kale from water cut in chunks.\r\nPlace bacon on saucepan and cook until crispy. Then add onions, garlic, thyme, stir for about a minute or more\r\nAdd tomatoes; scotch bonnet pepper, smoked paprika. Saut\u00e9 for about 2-3 more minutes.\r\nFinally add vegetable, salt, mix well, and steamed for about 6-8 minutes or until leaves are tender. Add a tiny bit of water as needed. Adjust seasonings and turn off the heat.\r\nUsing a sharp knife cut both ends off the plantain. This will make it easy to grab the skin of the plantains. Slit a shallow line down the long seam of the plantain; peel only as deep as the peel. Remove plantain peel by pulling it back.\r\nSlice the plantain into medium size lengthwise slices and set aside.\r\nCoat a large frying pan with cooking oil spray. Spray the tops of the plantains with a generous layer of oil spray and sprinkle with salt, freshly ground pepper.\r\nLet the plantains \""fry\"" on medium heat, shaking the frying pan to redistribute them every few minutes.\r\nAs the plantains brown, continue to add more cooking oil spray, salt and pepper (if needed) until they have reached the desired color and texture.\r\nRemove and serve with kale"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""strTags"":""Savory"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=bCr3GasJWwE"",""strIngredient1"":""Kale"",""strIngredient2"":""Bacon"",""strIngredient3"":""Garlic"",""strIngredient4"":""Onion"",""strIngredient5"":""Paprika"",""strIngredient6"":""Thyme"",""strIngredient7"":""Tomato"",""strIngredient8"":""Red Pepper"",""strIngredient9"":""Banana"",""strIngredient10"":""Vegetable Oil"",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""1  bunch"",""strMeasure2"":""2 strips"",""strMeasure3"":""3 cloves Chopped"",""strMeasure4"":""1 medium"",""strMeasure5"":""1\/2 tsp"",""strMeasure6"":""1 Sprig"",""strMeasure7"":""1"",""strMeasure8"":""1"",""strMeasure9"":""4"",""strMeasure10"":""Splash"",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.africanbites.com\/callaloo-jamaican-style\/"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52907"",""strMeal"":""Duck Confit"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""French"",""strInstructions"":""The day before you want to make the dish, scatter half the salt, half the garlic and half of the herbs over the base of a small shallow dish. Lay the duck legs, skin-side up, on top, then scatter over the remaining salt, garlic and herbs. Cover the duck and refrigerate overnight. This can be done up to 2 days ahead.\r\nPour the wine into a saucepan that will snugly fit the duck legs in a single layer. Brush the salt off the duck legs and place them, skin-side down, in the wine. Cover the pan with a lid and place over a medium heat. As soon as the wine starts to bubble, turn the heat down to the lowest setting and cook for 2 hours, checking occasionally that the liquid is just barely simmering. (If you own a heat diffuser, it would be good to use it here.) After 2 hours, the duck legs should be submerged in their own fat and the meat should feel incredibly tender when prodded. Leave to cool.\r\nThe duck legs are now cooked and can be eaten immediately \u2013 or you can follow the next step if you like them crisp. If you are preparing ahead, pack the duck legs tightly into a plastic container or jar and pour over the fat, but not the liquid at the bottom of the pan. Cover and leave in the fridge for up to a month, or freeze for up to 3 months. The liquid you are left with makes a tasty gravy, which can be chilled or frozen until needed.\r\nTo reheat and crisp up the duck legs, heat oven to 220C\/fan 200C\/gas 7. Remove the legs from the fat and place them, skin-side down, in an ovenproof frying pan. Roast for 30-40 mins, turning halfway through, until brown and crisp. Serve with the reheated gravy, a crisp salad and some crisp golden ptoatoes."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=MHhLJqghY-o"",""strIngredient1"":""Sea Salt"",""strIngredient2"":""Bay Leaf"",""strIngredient3"":""Garlic"",""strIngredient4"":""Thyme"",""strIngredient5"":""Duck Legs"",""strIngredient6"":""White Wine"",""strIngredient7"":"""",""strIngredient8"":"""",""strIngredient9"":"""",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""Handful"",""strMeasure2"":""4"",""strMeasure3"":""4 cloves"",""strMeasure4"":""Handful"",""strMeasure5"":""4"",""strMeasure6"":""100ml"",""strMeasure7"":"""",""strMeasure8"":"""",""strMeasure9"":"""",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.bbcgoodfood.com\/recipes\/2085\/barneys-confit-of-duck"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52815"",""strMeal"":""French Lentils With Garlic and Thyme"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""French"",""strInstructions"":""Place a large saucepan over medium heat and add oil. When hot, add chopped vegetables and saut\u00e9 until softened, 5 to 10 minutes.\r\nAdd 6 cups water, lentils, thyme, bay leaves and salt. Bring to a boil, then reduce to a fast simmer.\r\nSimmer lentils until they are tender and have absorbed most of the water, 20 to 25 minutes. If necessary, drain any excess water after lentils have cooked. Serve immediately, or allow them to cool and reheat later.\r\nFor a fuller taste, use some chicken stock and reduce the water by the same amount."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""strTags"":""Pulse"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=CrlTS1mJQMA"",""strIngredient1"":""Olive Oil"",""strIngredient2"":""Onion"",""strIngredient3"":""Garlic"",""strIngredient4"":""Carrot"",""strIngredient5"":""French Lentils"",""strIngredient6"":""Thyme"",""strIngredient7"":""Bay Leaf"",""strIngredient8"":""Salt"",""strIngredient9"":""Celery"",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""3 tablespoons"",""strMeasure2"":""1"",""strMeasure3"":""2 cloves"",""strMeasure4"":""1"",""strMeasure5"":""2 1\/4 cups"",""strMeasure6"":""1 teaspoon"",""strMeasure7"":""3"",""strMeasure8"":""1 tablespoon"",""strMeasure9"":""2 sticks"",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":"""",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52961"",""strMeal"":""Budino Di Ricotta"",""strDrinkAlternate"":null,""strCategory"":""Dessert"",""strArea"":""Italian"",""strInstructions"":""Mash the ricotta and beat well with the egg yolks, stir in the flour, sugar, cinnamon, grated lemon rind and the rum and mix well. You can do this in a food processor. Beat the egg whites until stiff, fold in and pour into a buttered and floured 25cm cake tin. Bake in the oven at 180\u00baC\/160\u00baC fan\/gas 4 for about 40 minutes, or until it is firm.\r\n\r\nServe hot or cold dusted with icing sugar."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/1549542877.jpg"",""strTags"":""Cake,Baking,Desert,Sweet,Alcoholic,Calorific"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=6dzd6Ra6sb4"",""strIngredient1"":""Ricotta"",""strIngredient2"":""Eggs"",""strIngredient3"":""Flour"",""strIngredient4"":""Sugar"",""strIngredient5"":""Cinnamon"",""strIngredient6"":""Lemons"",""strIngredient7"":""Dark Rum"",""strIngredient8"":""Icing Sugar"",""strIngredient9"":"""",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""500g"",""strMeasure2"":""4 large"",""strMeasure3"":""3 tbs"",""strMeasure4"":""250g"",""strMeasure5"":""1 tsp "",""strMeasure6"":""Grated Zest of 2"",""strMeasure7"":""5 tbs"",""strMeasure8"":""sprinking"",""strMeasure9"":"""",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/thehappyfoodie.co.uk\/recipes\/ricotta-cake-budino-di-ricotta"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52796"",""strMeal"":""Chicken Alfredo Primavera"",""strDrinkAlternate"":null,""strCategory"":""Chicken"",""strArea"":""Italian"",""strInstructions"":""Heat 1 tablespoon of butter and 2 tablespoons of olive oil in a large skillet over medium-high heat. Season both sides of each chicken breast with seasoned salt and a pinch of pepper. Add the chicken to the skillet and cook for 5-7 minutes on each side, or until cooked through.  While the chicken is cooking, bring a large pot of water to a boil. Season the boiling water with a few generous pinches of kosher salt. Add the pasta and give it a stir. Cook, stirring occasionally, until al dente, about 12 minutes. Reserve 1\/2 cup of  pasta water before draining the pasta.  Remove the chicken from the pan and transfer it to a cutting board; allow it to rest. Turn the heat down to medium and dd the remaining 1 tablespoon of butter and olive oil to the same pan you used to cook the chicken. Add the veggies (minus the garlic) and red pepper flakes to the pan and stir to coat with the oil and butter (refrain from seasoning with salt until the veggies are finished browning). Cook, stirring often, until the veggies are tender, about 5 minutes. Add the garlic and a generous pinch of salt and pepper to the pan and cook for 1 minute.  Deglaze the pan with the white wine. Continue to cook until the wine has reduced by half, about 3 minutes. Stir in the milk, heavy cream, and reserved pasta water. Bring the mixture to a gentle boil and allow to simmer and reduce for 2-3 minutes. Turn off the heat and add the Parmesan cheese and cooked pasta. Season with salt and pepper to taste. Garnish with Parmesan cheese and chopped parsley, if desired. "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/syqypv1486981727.jpg"",""strTags"":""Pasta,Meat,Dairy"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=qCIbq8HywpQ"",""strIngredient1"":""Butter"",""strIngredient2"":""Olive Oil"",""strIngredient3"":""Chicken"",""strIngredient4"":""Salt"",""strIngredient5"":""Squash"",""strIngredient6"":""Broccoli"",""strIngredient7"":""mushrooms"",""strIngredient8"":""Pepper"",""strIngredient9"":""onion"",""strIngredient10"":""garlic"",""strIngredient11"":""red pepper flakes"",""strIngredient12"":""white wine"",""strIngredient13"":""milk"",""strIngredient14"":""heavy cream"",""strIngredient15"":""Parmesan cheese"",""strIngredient16"":""bowtie pasta"",""strIngredient17"":""Salt"",""strIngredient18"":""Pepper"",""strIngredient19"":""Parsley"",""strIngredient20"":"""",""strMeasure1"":""2 tablespoons"",""strMeasure2"":""3 tablespoons"",""strMeasure3"":""5 boneless"",""strMeasure4"":""1 teaspoon"",""strMeasure5"":""1 cut into 1\/2-inch cubes"",""strMeasure6"":""1 Head chopped"",""strMeasure7"":""8-ounce sliced"",""strMeasure8"":""1 red"",""strMeasure9"":""1 chopped"",""strMeasure10"":""3 cloves"",""strMeasure11"":""1\/2 teaspoon"",""strMeasure12"":""1\/2 cup"",""strMeasure13"":""1\/2 cup"",""strMeasure14"":""1\/2 cup"",""strMeasure15"":""1 cup grated"",""strMeasure16"":""16 ounces"",""strMeasure17"":""pinch"",""strMeasure18"":""pinch "",""strMeasure19"":""chopped"",""strMeasure20"":"""",""strSource"":"""",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52839"",""strMeal"":""Chilli prawn linguine"",""strDrinkAlternate"":null,""strCategory"":""Pasta"",""strArea"":""Italian"",""strInstructions"":""Mix the dressing ingredients in a small bowl and season with salt and pepper. Set aside.\r\n\r\nCook the pasta according to the packet instructions. Add the sugar snap peas for the last minute or so of cooking time.\r\n\r\nMeanwhile, heat the oil in a wok or large frying pan, toss in the garlic and chilli and cook over a fairly gentle heat for about 30 seconds without letting the garlic brown. Tip in the prawns and cook over a high heat, stirring frequently, for about 3 minutes until they turn pink.\r\n\r\nAdd the tomatoes and cook, stirring occasionally, for 3 minutes until they just start to soften. Drain the pasta and sugar snaps well, then toss into the prawn mixture. Tear in the basil leaves, stir, and season with salt and pepper.\r\n\r\nServe with salad leaves drizzled with the lime dressing, and warm crusty bread."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/usywpp1511189717.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=SC17Mc70Db0"",""strIngredient1"":""Linguine Pasta"",""strIngredient2"":""Sugar Snap Peas"",""strIngredient3"":""Olive Oil"",""strIngredient4"":""Garlic Clove"",""strIngredient5"":""Red Chilli"",""strIngredient6"":""King Prawns"",""strIngredient7"":""Cherry Tomatoes"",""strIngredient8"":""Basil Leaves"",""strIngredient9"":""Lettuce"",""strIngredient10"":""Bread"",""strIngredient11"":""Fromage Frais"",""strIngredient12"":""Lime"",""strIngredient13"":""Caster Sugar"",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""280g"",""strMeasure2"":""200g"",""strMeasure3"":""2 tblsp "",""strMeasure4"":""2 cloves chopped"",""strMeasure5"":""1 large"",""strMeasure6"":""24 Skinned"",""strMeasure7"":""12"",""strMeasure8"":""Handful"",""strMeasure9"":""Leaves"",""strMeasure10"":""to serve"",""strMeasure11"":""2 tbsp"",""strMeasure12"":""Grated Zest of 2"",""strMeasure13"":""2 tsp"",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.bbcgoodfood.com\/recipes\/1269\/chilli-prawn-linguine"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            //Act
            var result = MealsHelper.GetMealsFromJson(jsonList);

            //Assert
            Assert.AreEqual(result.Count(), 8);
        }
        [Test]
        public void GetMealsFromJson_ElementsNotCorrectNumber()
        {
            //Arrange
            List<string> jsonList = new List<string>();
            jsonList.Add(@"{""meals"":[{""idMeal"":""53014"",""strMeal"":""Pizza Express Margherita"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""Italian"",""strInstructions"":""1 Preheat the oven to 230\u00b0C.\r\n\r\n2 Add the sugar and crumble the fresh yeast into warm water.\r\n\r\n3 Allow the mixture to stand for 10 \u2013 15 minutes in a warm place (we find a windowsill on a sunny day works best) until froth develops on the surface.\r\n\r\n4 Sift the flour and salt into a large mixing bowl, make a well in the middle and pour in the yeast mixture and olive oil.\r\n\r\n5 Lightly flour your hands, and slowly mix the ingredients together until they bind.\r\n\r\n6 Generously dust your surface with flour.\r\n\r\n7 Throw down the dough and begin kneading for 10 minutes until smooth, silky and soft.\r\n\r\n8 Place in a lightly oiled, non-stick baking tray (we use a round one, but any shape will do!)\r\n\r\n9 Spread the passata on top making sure you go to the edge.\r\n\r\n10 Evenly place the mozzarella (or other cheese) on top, season with the oregano and black pepper, then drizzle with a little olive oil.\r\n\r\n11 Cook in the oven for 10 \u2013 12 minutes until the cheese slightly colours.\r\n\r\n12 When ready, place the basil leaf on top and tuck in!"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/x0lk931587671540.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=Mt5lgUZRoUg"",""strIngredient1"":""Water"",""strIngredient2"":""Sugar"",""strIngredient3"":""Yeast"",""strIngredient4"":""Plain Flour"",""strIngredient5"":""Salt"",""strIngredient6"":""Olive Oil"",""strIngredient7"":""Passata"",""strIngredient8"":""Mozzarella"",""strIngredient9"":""Oregano"",""strIngredient10"":""Basil"",""strIngredient11"":""Black Pepper"",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""150ml"",""strMeasure2"":""1 tsp "",""strMeasure3"":""15g"",""strMeasure4"":""225g"",""strMeasure5"":""1 1\/2 tsp "",""strMeasure6"":""Drizzle"",""strMeasure7"":""80g"",""strMeasure8"":""70g"",""strMeasure9"":""Peeled and Sliced"",""strMeasure10"":""Leaves"",""strMeasure11"":""Pinch"",""strMeasure12"":"" "",""strMeasure13"":"" "",""strMeasure14"":"" "",""strMeasure15"":"" "",""strMeasure16"":"" "",""strMeasure17"":"" "",""strMeasure18"":"" "",""strMeasure19"":"" "",""strMeasure20"":"" "",""strSource"":""https:\/\/www.dailymail.co.uk\/femail\/food\/article-8240361\/Pizza-Express-release-secret-recipe-Margherita-Pizza-make-home.html"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52848"",""strMeal"":""Bean & Sausage Hotpot"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""British"",""strInstructions"":""In a large casserole, fry the sausages until brown all over \u2013 about 10 mins.\r\n\r\nAdd the tomato sauce, stirring well, then stir in the beans, treacle or sugar and mustard. Bring to the simmer, cover and cook for 30 mins. Great served with crusty bread or rice."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vxuyrx1511302687.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=B0YX0yPX4Wo"",""strIngredient1"":""Sausages"",""strIngredient2"":""Tomato Sauce"",""strIngredient3"":""Butter Beans"",""strIngredient4"":""Black Treacle"",""strIngredient5"":""English Mustard"",""strIngredient6"":"""",""strIngredient7"":"""",""strIngredient8"":"""",""strIngredient9"":"""",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""8 large"",""strMeasure2"":""1 Jar"",""strMeasure3"":""1200g"",""strMeasure4"":""1 tbls"",""strMeasure5"":""1 tsp "",""strMeasure6"":"""",""strMeasure7"":"""",""strMeasure8"":"""",""strMeasure9"":"""",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.bbcgoodfood.com\/recipes\/339607\/bean-and-sausage-hotpot"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52939"",""strMeal"":""Callaloo Jamaican Style"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""Jamaican"",""strInstructions"":""Cut leaves and soft stems from the kale branches, them soak in a bowl of cold water for about 5-10 minutes or until finish with prep.\r\nProceed to slicing the onions, mincing the garlic and dicing the tomatoes. Set aside\r\nRemove kale from water cut in chunks.\r\nPlace bacon on saucepan and cook until crispy. Then add onions, garlic, thyme, stir for about a minute or more\r\nAdd tomatoes; scotch bonnet pepper, smoked paprika. Saut\u00e9 for about 2-3 more minutes.\r\nFinally add vegetable, salt, mix well, and steamed for about 6-8 minutes or until leaves are tender. Add a tiny bit of water as needed. Adjust seasonings and turn off the heat.\r\nUsing a sharp knife cut both ends off the plantain. This will make it easy to grab the skin of the plantains. Slit a shallow line down the long seam of the plantain; peel only as deep as the peel. Remove plantain peel by pulling it back.\r\nSlice the plantain into medium size lengthwise slices and set aside.\r\nCoat a large frying pan with cooking oil spray. Spray the tops of the plantains with a generous layer of oil spray and sprinkle with salt, freshly ground pepper.\r\nLet the plantains \""fry\"" on medium heat, shaking the frying pan to redistribute them every few minutes.\r\nAs the plantains brown, continue to add more cooking oil spray, salt and pepper (if needed) until they have reached the desired color and texture.\r\nRemove and serve with kale"",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/ussyxw1515364536.jpg"",""strTags"":""Savory"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=bCr3GasJWwE"",""strIngredient1"":""Kale"",""strIngredient2"":""Bacon"",""strIngredient3"":""Garlic"",""strIngredient4"":""Onion"",""strIngredient5"":""Paprika"",""strIngredient6"":""Thyme"",""strIngredient7"":""Tomato"",""strIngredient8"":""Red Pepper"",""strIngredient9"":""Banana"",""strIngredient10"":""Vegetable Oil"",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""1  bunch"",""strMeasure2"":""2 strips"",""strMeasure3"":""3 cloves Chopped"",""strMeasure4"":""1 medium"",""strMeasure5"":""1\/2 tsp"",""strMeasure6"":""1 Sprig"",""strMeasure7"":""1"",""strMeasure8"":""1"",""strMeasure9"":""4"",""strMeasure10"":""Splash"",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.africanbites.com\/callaloo-jamaican-style\/"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52907"",""strMeal"":""Duck Confit"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""French"",""strInstructions"":""The day before you want to make the dish, scatter half the salt, half the garlic and half of the herbs over the base of a small shallow dish. Lay the duck legs, skin-side up, on top, then scatter over the remaining salt, garlic and herbs. Cover the duck and refrigerate overnight. This can be done up to 2 days ahead.\r\nPour the wine into a saucepan that will snugly fit the duck legs in a single layer. Brush the salt off the duck legs and place them, skin-side down, in the wine. Cover the pan with a lid and place over a medium heat. As soon as the wine starts to bubble, turn the heat down to the lowest setting and cook for 2 hours, checking occasionally that the liquid is just barely simmering. (If you own a heat diffuser, it would be good to use it here.) After 2 hours, the duck legs should be submerged in their own fat and the meat should feel incredibly tender when prodded. Leave to cool.\r\nThe duck legs are now cooked and can be eaten immediately \u2013 or you can follow the next step if you like them crisp. If you are preparing ahead, pack the duck legs tightly into a plastic container or jar and pour over the fat, but not the liquid at the bottom of the pan. Cover and leave in the fridge for up to a month, or freeze for up to 3 months. The liquid you are left with makes a tasty gravy, which can be chilled or frozen until needed.\r\nTo reheat and crisp up the duck legs, heat oven to 220C\/fan 200C\/gas 7. Remove the legs from the fat and place them, skin-side down, in an ovenproof frying pan. Roast for 30-40 mins, turning halfway through, until brown and crisp. Serve with the reheated gravy, a crisp salad and some crisp golden ptoatoes."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/wvpvsu1511786158.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=MHhLJqghY-o"",""strIngredient1"":""Sea Salt"",""strIngredient2"":""Bay Leaf"",""strIngredient3"":""Garlic"",""strIngredient4"":""Thyme"",""strIngredient5"":""Duck Legs"",""strIngredient6"":""White Wine"",""strIngredient7"":"""",""strIngredient8"":"""",""strIngredient9"":"""",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""Handful"",""strMeasure2"":""4"",""strMeasure3"":""4 cloves"",""strMeasure4"":""Handful"",""strMeasure5"":""4"",""strMeasure6"":""100ml"",""strMeasure7"":"""",""strMeasure8"":"""",""strMeasure9"":"""",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.bbcgoodfood.com\/recipes\/2085\/barneys-confit-of-duck"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52815"",""strMeal"":""French Lentils With Garlic and Thyme"",""strDrinkAlternate"":null,""strCategory"":""Miscellaneous"",""strArea"":""French"",""strInstructions"":""Place a large saucepan over medium heat and add oil. When hot, add chopped vegetables and saut\u00e9 until softened, 5 to 10 minutes.\r\nAdd 6 cups water, lentils, thyme, bay leaves and salt. Bring to a boil, then reduce to a fast simmer.\r\nSimmer lentils until they are tender and have absorbed most of the water, 20 to 25 minutes. If necessary, drain any excess water after lentils have cooked. Serve immediately, or allow them to cool and reheat later.\r\nFor a fuller taste, use some chicken stock and reduce the water by the same amount."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/vwwspt1487394060.jpg"",""strTags"":""Pulse"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=CrlTS1mJQMA"",""strIngredient1"":""Olive Oil"",""strIngredient2"":""Onion"",""strIngredient3"":""Garlic"",""strIngredient4"":""Carrot"",""strIngredient5"":""French Lentils"",""strIngredient6"":""Thyme"",""strIngredient7"":""Bay Leaf"",""strIngredient8"":""Salt"",""strIngredient9"":""Celery"",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""3 tablespoons"",""strMeasure2"":""1"",""strMeasure3"":""2 cloves"",""strMeasure4"":""1"",""strMeasure5"":""2 1\/4 cups"",""strMeasure6"":""1 teaspoon"",""strMeasure7"":""3"",""strMeasure8"":""1 tablespoon"",""strMeasure9"":""2 sticks"",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":"""",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52961"",""strMeal"":""Budino Di Ricotta"",""strDrinkAlternate"":null,""strCategory"":""Dessert"",""strArea"":""Italian"",""strInstructions"":""Mash the ricotta and beat well with the egg yolks, stir in the flour, sugar, cinnamon, grated lemon rind and the rum and mix well. You can do this in a food processor. Beat the egg whites until stiff, fold in and pour into a buttered and floured 25cm cake tin. Bake in the oven at 180\u00baC\/160\u00baC fan\/gas 4 for about 40 minutes, or until it is firm.\r\n\r\nServe hot or cold dusted with icing sugar."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/1549542877.jpg"",""strTags"":""Cake,Baking,Desert,Sweet,Alcoholic,Calorific"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=6dzd6Ra6sb4"",""strIngredient1"":""Ricotta"",""strIngredient2"":""Eggs"",""strIngredient3"":""Flour"",""strIngredient4"":""Sugar"",""strIngredient5"":""Cinnamon"",""strIngredient6"":""Lemons"",""strIngredient7"":""Dark Rum"",""strIngredient8"":""Icing Sugar"",""strIngredient9"":"""",""strIngredient10"":"""",""strIngredient11"":"""",""strIngredient12"":"""",""strIngredient13"":"""",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""500g"",""strMeasure2"":""4 large"",""strMeasure3"":""3 tbs"",""strMeasure4"":""250g"",""strMeasure5"":""1 tsp "",""strMeasure6"":""Grated Zest of 2"",""strMeasure7"":""5 tbs"",""strMeasure8"":""sprinking"",""strMeasure9"":"""",""strMeasure10"":"""",""strMeasure11"":"""",""strMeasure12"":"""",""strMeasure13"":"""",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/thehappyfoodie.co.uk\/recipes\/ricotta-cake-budino-di-ricotta"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52796"",""strMeal"":""Chicken Alfredo Primavera"",""strDrinkAlternate"":null,""strCategory"":""Chicken"",""strArea"":""Italian"",""strInstructions"":""Heat 1 tablespoon of butter and 2 tablespoons of olive oil in a large skillet over medium-high heat. Season both sides of each chicken breast with seasoned salt and a pinch of pepper. Add the chicken to the skillet and cook for 5-7 minutes on each side, or until cooked through.  While the chicken is cooking, bring a large pot of water to a boil. Season the boiling water with a few generous pinches of kosher salt. Add the pasta and give it a stir. Cook, stirring occasionally, until al dente, about 12 minutes. Reserve 1\/2 cup of  pasta water before draining the pasta.  Remove the chicken from the pan and transfer it to a cutting board; allow it to rest. Turn the heat down to medium and dd the remaining 1 tablespoon of butter and olive oil to the same pan you used to cook the chicken. Add the veggies (minus the garlic) and red pepper flakes to the pan and stir to coat with the oil and butter (refrain from seasoning with salt until the veggies are finished browning). Cook, stirring often, until the veggies are tender, about 5 minutes. Add the garlic and a generous pinch of salt and pepper to the pan and cook for 1 minute.  Deglaze the pan with the white wine. Continue to cook until the wine has reduced by half, about 3 minutes. Stir in the milk, heavy cream, and reserved pasta water. Bring the mixture to a gentle boil and allow to simmer and reduce for 2-3 minutes. Turn off the heat and add the Parmesan cheese and cooked pasta. Season with salt and pepper to taste. Garnish with Parmesan cheese and chopped parsley, if desired. "",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/syqypv1486981727.jpg"",""strTags"":""Pasta,Meat,Dairy"",""strYoutube"":""https:\/\/www.youtube.com\/watch?v=qCIbq8HywpQ"",""strIngredient1"":""Butter"",""strIngredient2"":""Olive Oil"",""strIngredient3"":""Chicken"",""strIngredient4"":""Salt"",""strIngredient5"":""Squash"",""strIngredient6"":""Broccoli"",""strIngredient7"":""mushrooms"",""strIngredient8"":""Pepper"",""strIngredient9"":""onion"",""strIngredient10"":""garlic"",""strIngredient11"":""red pepper flakes"",""strIngredient12"":""white wine"",""strIngredient13"":""milk"",""strIngredient14"":""heavy cream"",""strIngredient15"":""Parmesan cheese"",""strIngredient16"":""bowtie pasta"",""strIngredient17"":""Salt"",""strIngredient18"":""Pepper"",""strIngredient19"":""Parsley"",""strIngredient20"":"""",""strMeasure1"":""2 tablespoons"",""strMeasure2"":""3 tablespoons"",""strMeasure3"":""5 boneless"",""strMeasure4"":""1 teaspoon"",""strMeasure5"":""1 cut into 1\/2-inch cubes"",""strMeasure6"":""1 Head chopped"",""strMeasure7"":""8-ounce sliced"",""strMeasure8"":""1 red"",""strMeasure9"":""1 chopped"",""strMeasure10"":""3 cloves"",""strMeasure11"":""1\/2 teaspoon"",""strMeasure12"":""1\/2 cup"",""strMeasure13"":""1\/2 cup"",""strMeasure14"":""1\/2 cup"",""strMeasure15"":""1 cup grated"",""strMeasure16"":""16 ounces"",""strMeasure17"":""pinch"",""strMeasure18"":""pinch "",""strMeasure19"":""chopped"",""strMeasure20"":"""",""strSource"":"""",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            jsonList.Add(@"{""meals"":[{""idMeal"":""52839"",""strMeal"":""Chilli prawn linguine"",""strDrinkAlternate"":null,""strCategory"":""Pasta"",""strArea"":""Italian"",""strInstructions"":""Mix the dressing ingredients in a small bowl and season with salt and pepper. Set aside.\r\n\r\nCook the pasta according to the packet instructions. Add the sugar snap peas for the last minute or so of cooking time.\r\n\r\nMeanwhile, heat the oil in a wok or large frying pan, toss in the garlic and chilli and cook over a fairly gentle heat for about 30 seconds without letting the garlic brown. Tip in the prawns and cook over a high heat, stirring frequently, for about 3 minutes until they turn pink.\r\n\r\nAdd the tomatoes and cook, stirring occasionally, for 3 minutes until they just start to soften. Drain the pasta and sugar snaps well, then toss into the prawn mixture. Tear in the basil leaves, stir, and season with salt and pepper.\r\n\r\nServe with salad leaves drizzled with the lime dressing, and warm crusty bread."",""strMealThumb"":""https:\/\/www.themealdb.com\/images\/media\/meals\/usywpp1511189717.jpg"",""strTags"":null,""strYoutube"":""https:\/\/www.youtube.com\/watch?v=SC17Mc70Db0"",""strIngredient1"":""Linguine Pasta"",""strIngredient2"":""Sugar Snap Peas"",""strIngredient3"":""Olive Oil"",""strIngredient4"":""Garlic Clove"",""strIngredient5"":""Red Chilli"",""strIngredient6"":""King Prawns"",""strIngredient7"":""Cherry Tomatoes"",""strIngredient8"":""Basil Leaves"",""strIngredient9"":""Lettuce"",""strIngredient10"":""Bread"",""strIngredient11"":""Fromage Frais"",""strIngredient12"":""Lime"",""strIngredient13"":""Caster Sugar"",""strIngredient14"":"""",""strIngredient15"":"""",""strIngredient16"":"""",""strIngredient17"":"""",""strIngredient18"":"""",""strIngredient19"":"""",""strIngredient20"":"""",""strMeasure1"":""280g"",""strMeasure2"":""200g"",""strMeasure3"":""2 tblsp "",""strMeasure4"":""2 cloves chopped"",""strMeasure5"":""1 large"",""strMeasure6"":""24 Skinned"",""strMeasure7"":""12"",""strMeasure8"":""Handful"",""strMeasure9"":""Leaves"",""strMeasure10"":""to serve"",""strMeasure11"":""2 tbsp"",""strMeasure12"":""Grated Zest of 2"",""strMeasure13"":""2 tsp"",""strMeasure14"":"""",""strMeasure15"":"""",""strMeasure16"":"""",""strMeasure17"":"""",""strMeasure18"":"""",""strMeasure19"":"""",""strMeasure20"":"""",""strSource"":""https:\/\/www.bbcgoodfood.com\/recipes\/1269\/chilli-prawn-linguine"",""strImageSource"":null,""strCreativeCommonsConfirmed"":null,""dateModified"":null}]}");
            //Act
            var result = MealsHelper.GetMealsFromJson(jsonList);

            //Assert
            Assert.AreNotEqual(result.Count(), 7);
        }

    }
}